{# ãƒ­ã‚°ã‚¤ãƒ³å‰ã¨ãƒ­ã‚°ã‚¤ãƒ³å¾Œã§ base ã‚’åˆ‡ã‚Šæ›¿ãˆ #}
{% if logged_in %}
    {% extends "base_after.html" %}
{% else %}
    {% extends "base_before.html" %}
{% endif %}

{% block title %}
{{ post.article_title }} | è¨˜äº‹è©³ç´°
{% endblock %}

{% block content %}

<div class="max-w-4xl mx-auto px-4 py-10">

    <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
    <h1 class="text-4xl font-extrabold text-gray-900 tracking-tight mb-6">
        {{ post.article_title }}
    </h1>

    <!-- ãƒ¡ã‚¿æƒ…å ± -->
    <div class="flex items-center text-sm text-gray-500 mb-8 gap-6">
        <span class="flex items-center gap-1">
            ğŸ†” <strong>{{ post.article_id }}</strong>
        </span>
        <span class="flex items-center gap-1">
            ğŸ•’ {{ post.rec_upd_tmstmp.strftime('%Y-%m-%d %H:%M') }}
        </span>
    </div>

    <!-- ã‚µãƒ ãƒã‚¤ãƒ« -->
    {% if post.article_image_path %}
    <div class="mb-10">
        <img
            src="{{ url_for('static', filename=post.article_image_path) }}"
            alt="{{ post.article_title }}"
            class="w-full rounded-2xl shadow-lg object-cover"
        >
    </div>
    {% endif %}

    <!-- æœ¬æ–‡ -->
    <article class="prose prose-lg max-w-none bg-white p-8 rounded-2xl shadow-md leading-relaxed">
        {{ post.article_body | safe }}
    </article>

    <!-- ç®¡ç†è€…å°‚ç”¨ æ“ä½œãƒœã‚¿ãƒ³ -->
    {% if logged_in %}
    <div class="mt-10 flex gap-4">

        <!-- ç·¨é›† -->
        <a
            href="{{ url_for('post_edit', post_id=post.article_id) }}"
            class="px-6 py-3 bg-indigo-600 text-white rounded-xl font-medium shadow hover:bg-indigo-700 transition"
        >
            âœï¸ è¨˜äº‹ã‚’ç·¨é›†
        </a>

        <!-- å‰Šé™¤ -->
        <form
            method="POST"
            action="{{ url_for('post_delete', post_id=post.article_id) }}"
            onsubmit="return confirm('âš ï¸ æœ¬å½“ã«ã“ã®è¨˜äº‹ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\nã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚');"
        >
            <button
                type="submit"
                class="px-6 py-3 bg-red-600 text-white rounded-xl font-medium shadow hover:bg-red-700 transition"
            >
                ğŸ—‘ å‰Šé™¤
            </button>
        </form>

    </div>
    {% endif %}

</div>

{% endblock %}
